<head>
    <!-- title, scripts (defer), firebase, styles link-->
    <title>To-Do list</title>
    <script src = "index.js" type="module" defer></script>
    <script src="https://www.gstatic.com/firebasejs/10.8.0/firebase-app-compat.js" type="module" defer></script>
    <script src="https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore-compat.js" type="module" defer></script>  
    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-app.js" type="module" defer></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-firestore.js" type="module" defer></script>
    <link rel = "stylesheet" type = "text/css" href = "styles.css">
</head>

<!-- ADD MENU -->
<div class="addMenuBackground" id="addMenuBackground">
    <div class="addMenu">
        <div class="addMenuRight">
            <input type="text" class="addMenuBigInput" placeholder="Title">
            <input type="date" class="addMenuBigInput" placeholder="Date">
            <div id ="inputContainer">
                <input type="text" class="addMenuSmallInput" placeholder="task">
            </div>
        </div>
        <div class="addMenuLeft">
        <span class="taskCounter" id="task">1</span>
        <button class="addMenuButtonSmall" onclick="taskNumber('+')">▲</button>
        <button class="addMenuButtonSmall" onclick="taskNumber('-')">▼</button>
        <button class="addMenuButtonRed" onclick="show('addMenuBackground')">Cancel</button>
        <button class="addMenuButtonGreen" onclick="show('addMenuBackground')">Add</button>
        </div>
    </div>
</div>

<!-- USER MENU (assests reused from add menu) -->
<div class="addMenuBackground" id="userMenu">
    <div class="userMenu" id="loginRegister">
        <div class="userMenuLogin">
            <h2> login </h2>
            <p> username: </p>
            <input type="username" class="addMenuSmallInput" placeholder="username" id="username">
            <p> password: </p>
            <input type="password" class="addMenuSmallInput" placeholder="password" id="password">
            <span id="loginState" style="color: red; margin-top: 3%;"></span>
            <p>keep logged in</p>
            <input type="checkbox" style="width: 10%; height: 10%;" id="keepLoggedIn">
            <div class="container">
            <button class="addMenuButtonRed" onclick="show('userMenu')">Cancel</button>
            <button class="addMenuButtonGreen" onclick="firebaseLogin()">login</button>
            </div>
        </div>
        <div class="userMenuRegister">
            <h2> Register </h2>
            <p> username: </p>
            <input type="username" class="addMenuSmallInput" placeholder="username" id="makeUsername">
            <p> password: </p>
            <input type="password" class="addMenuSmallInput" placeholder="password" id="makePassword">
            <p> confirm password: </p>
            <input type="password" class="addMenuSmallInput" placeholder="confirm password" id="makePasswordConfirm">
            <span id="registrationState" style="color: red; margin-top: 3%;"></span>
            <div class="container">
            <button class="addMenuButtonRed" onclick="show('userMenu')">Cancel</button>
            <button class="addMenuButtonGreen" onclick="firebaseRegister()">Register</button>
            </div>
        </div>
        <div class="userMenuPlaceholder" id="userMenuPlaceholder">
            <div class="userMenuPlaceholderContainer">
                <p class='seruNaTo' id="loginNotice">No account ? <br> sign up instead</p>
                <button class="loginButton" id="loginButtonId" onclick="userMenuChange()">sign up</button>
            </div>
        </div>
    </div>
        <div class="userMenu" id="loggedMenu">
            <div class="userMenuLogin">
                <p>Username:</p>
                <h1 id="usernameInfo">placeholder</h1>
                <div class="container">
                <button class="addMenuButtonRed" onclick="logOut()" style="height: 20%;">Log out</button>
                <button class="addMenuButtonRed" onclick="show('userMenu')">Close</button>
                </div>
                <span id="userLogInfo" style="color: red;"></span>
            </div>
        </div>
    </div>
</div>

<!-- MENU -->
<div class="menu">
    <button class="menuButton" onclick="show('userMenu')">User</button>
    <button class="menuButton" onclick="show('addMenuBackground')">Add +</button>
    <button class="menuButton" onclick="firebaseSubCollection('jmena', 'dandul', 'dandul-ukoly', 'ukoly', {jmeno: 'dandul', prijmeni: 'blak', ukol: 54})">test</button>
    <button class="menuButton">Settings</button>
</div>

<div class="main" style="margin-left: 20%;">
    <span id="loggedNotice" style="font-size: 7vw;">Log in to create your first task</span>
</div>